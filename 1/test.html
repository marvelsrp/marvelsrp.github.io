<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>WebView Interface Test</title>
    <style>
        body { font-family: sans-serif; padding: 20px; }
        .log { margin-top: 20px; font-weight: bold; }
    </style>
</head>
<body>
<h1>üîç WebView Interface Test</h1>
<p>–≠—Ç–æ—Ç —Ç–µ—Å—Ç –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –≤—ã–∑–≤–∞—Ç—å –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –∏–º–µ–Ω–∞ JS-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –≤ WebView, —Ç–∞–∫–∏–µ –∫–∞–∫ <code>Android</code>, <code>AndroidBridge</code>, <code>JSInterface</code> –∏ –¥—Ä—É–≥–∏–µ.</p>

<div class="log" id="log">‚è≥ –ü—Ä–æ–≤–µ—Ä–∫–∞...</div>

<script>
    const namesToTest = ['Android', 'AndroidBridge', 'JSInterface', 'MyApp', 'Bridge', 'Native'];
    const log = document.getElementById('log');
    let found = [];

    for (const name of namesToTest) {
        try {
            if (typeof window[name] === 'object' || typeof window[name] === 'function') {
                found.push(name);
            }
        } catch (e) {
            // ignore errors
        }
    }

    if (found.length > 0) {
        log.innerHTML = 'üõë –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã JS-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã: <b>' + found.join(', ') + '</b><br>–ü—Ä–æ–≤–µ—Ä—å, –∫–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã –æ–Ω–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç ‚Äî —ç—Ç–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —É—è–∑–≤–∏–º–æ—Å—Ç—å.';
    } else {
        log.innerHTML = '‚úÖ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã. –í–µ—Ä–æ—è—Ç–Ω–æ, <code>addJavascriptInterface</code> –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–ª–∏ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω.';
    }
    function testProc(){
        fetch('file:///proc/version').then(r => r.text()).then(data => {
            alert(JSON.stringify(data));
        });
    }
    function testLS() {
        fetch('file:///data/data/ru.mts.mymts/app_webview/Default/Local Storage').then(r => r.text()).then(data => {
            alert(JSON.stringify(data));
        });


    }
</script>
<button onclick="testProc()">
    testProc
</button>
<button onclick="testLS()">
    testLS
</button>
</body>
</html>
